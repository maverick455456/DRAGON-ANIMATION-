<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>MR NIPUN OFC / TECH-WEB</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="MR NIPUN OFC / TECH-WEB â€” Live Flying Robot Assistant + Portfolio" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    :root{ --red:#e63946; --purple:#7678ed; --ink:#1d1d1d; --text:#f1faee; --glass:rgba(255,255,255,.10); --glass-b:rgba(255,255,255,.18); }
    *{box-sizing:border-box} html,body{margin:0;padding:0}
    body{background:linear-gradient(135deg,#1d1d1d,#3d348b);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,"Noto Sans",sans-serif;min-height:100vh;overflow-x:hidden}
    a{color:inherit;text-decoration:none}
    .container{max-width:1200px;margin:0 auto;padding:20px 20px 40px}
    .page-wrap{padding-top:84px;min-height:calc(100vh - 84px - 80px)}

    /* Header + Drawer */
    .topbar{position:fixed;top:0;left:0;width:100%;height:70px;background:rgba(29,29,29,.9);backdrop-filter:blur(8px);border-bottom:1px solid var(--glass-b);z-index:1000}
    .topbar-inner{max-width:1200px;margin:0 auto;height:100%;display:flex;align-items:center;justify-content:space-between;padding:0 16px}
    .brand{font-weight:800;font-size:20px;background:linear-gradient(90deg,var(--red),var(--purple));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .menu{display:flex;gap:10px}
    .btn{display:inline-flex;align-items:center;justify-content:center;background:transparent;color:var(--text);border:1px solid var(--glass-b);border-radius:10px;padding:8px 14px;cursor:pointer;transition:filter .12s ease,transform .12s ease}
    .btn:hover{filter:brightness(1.05);transform:translateY(-1px)}
    .btn-primary{background:var(--red);border-color:var(--red);color:#fff}
    .hamburger{display:none;position:relative;width:48px;height:40px;border-radius:12px;border:1px solid var(--glass-b);background:rgba(255,255,255,.06);backdrop-filter:blur(6px);cursor:pointer}
    .hamburger .bar{position:absolute;left:50%;width:26px;height:3px;border-radius:3px;background:linear-gradient(90deg,var(--red),#ff6ea6);transform:translateX(-50%);transition:transform .22s ease,opacity .18s ease}
    .hamburger .bar:nth-child(1){top:11px}.hamburger .bar:nth-child(2){top:18.5px}.hamburger .bar:nth-child(3){top:26px}
    .hamburger.active .bar:nth-child(1){transform:translate(-50%,7px) rotate(45deg)}.hamburger.active .bar:nth-child(2){opacity:0}.hamburger.active .bar:nth-child(3){transform:translate(-50%,-7px) rotate(-45deg)}
    @media (max-width:900px){.menu{display:none}.hamburger{display:block}}
    .drawer-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:1098;display:none}
    .drawer-backdrop.show{display:block}
    .drawer{position:fixed;top:0;right:-380px;height:100vh;width:min(92vw,360px);background:linear-gradient(135deg,rgba(118,120,237,.22),rgba(230,57,70,.22));backdrop-filter:blur(12px);border-left:1px solid var(--glass-b);box-shadow:-12px 0 28px rgba(0,0,0,.45);z-index:1099;padding:86px 18px 22px;transition:right .24s ease;overflow-y:auto}
    .drawer.open{right:0}
    .drawer-header{position:fixed;top:0;right:0;width:min(92vw,360px);height:70px;display:flex;align-items:center;gap:10px;padding:0 18px;border-left:1px solid var(--glass-b);border-bottom:1px solid var(--glass-b);background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,0));backdrop-filter:blur(8px);z-index:1100}
    .drawer-title{font-weight:800;display:flex;align-items:center;gap:10px}.pulse{width:10px;height:10px;border-radius:50%;background:#9b5cf0;box-shadow:0 0 0 6px rgba(155,92,240,.25)}
    .drawer-close{margin-left:auto;background:transparent;border:1px solid var(--glass-b);width:40px;height:40px;border-radius:999px;color:#fff;font-size:20px;cursor:pointer}
    .navlist{list-style:none;margin:6px 0 0;padding:0;display:flex;flex-direction:column;gap:14px}
    .navitem{width:100%;display:flex;align-items:center;justify-content:center;padding:16px;border-radius:999px;border:1px solid rgba(255,255,255,.22);color:#fff;background:linear-gradient(135deg,rgba(255,255,255,.16),rgba(0,0,0,.10));box-shadow:0 10px 26px rgba(0,0,0,.22),inset 0 1px 0 rgba(255,255,255,.06);transition:transform .12s ease,filter .12s ease}
    .navitem:hover{filter:brightness(1.05);transform:translateY(-1px)}
    .navitem.cta{background:linear-gradient(135deg,rgba(230,57,70,.9),rgba(118,120,237,.75))}

    /* Sections */
    .hero{display:flex;flex-direction:column;align-items:center;text-align:center;margin-top:100px;margin-bottom:30px}
    .profile-container{position:relative;width:240px;height:240px;margin-bottom:24px}
    .profile-image{width:100%;height:100%;border-radius:50%;object-fit:cover;border:5px solid var(--red);position:relative;z-index:2}
    .light-ring{position:absolute;top:-10px;left:-10px;right:-10px;bottom:-10px;border-radius:50%;background:conic-gradient(var(--red),var(--purple),#d00000,var(--red));animation:spin 4s linear infinite;z-index:1}
    .light-ring::after{content:"";position:absolute;inset:5px;background:#1d1d1d;border-radius:50%}
    .hero-title{font-size:34px;margin-bottom:10px;background:linear-gradient(90deg,var(--red),var(--purple));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .hero-sub{opacity:.9}
    @keyframes spin{to{transform:rotate(360deg)}}

    .section{background:var(--glass);backdrop-filter:blur(8px);border:1px solid var(--glass-b);border-radius:14px;padding:24px;margin-bottom:32px;box-shadow:0 6px 18px rgba(0,0,0,.22)}
    .section-title{font-size:26px;margin-bottom:18px;text-align:center;position:relative;display:inline-block;left:50%;transform:translateX(-50%)}
    .section-title::after{content:"";position:absolute;bottom:-10px;left:0;width:100%;height:3px;background:linear-gradient(90deg,var(--red),var(--purple));border-radius:2px}
    .projects-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:18px}
    .card{background:var(--glass);border:1px solid var(--glass-b);border-radius:12px;padding:18px;box-shadow:0 5px 14px rgba(0,0,0,.18)}
    .card-title{font-size:20px;margin-bottom:8px;color:var(--red)}
    .info-card{padding:22px;border-radius:16px}.info-title{font-size:26px;margin:0 0 12px 0;font-weight:800}
    .info-underline{height:4px;width:120px;border-radius:999px;background:linear-gradient(90deg,var(--red),var(--purple))}
    .info-list{margin-top:12px;display:flex;flex-direction:column;gap:14px}
    .info-row{display:flex;align-items:center;gap:12px}.info-icon{width:40px;height:40px;border-radius:12px;display:grid;place-items:center;background:rgba(255,255,255,.08);border:1px solid var(--glass-b);color:var(--red);font-size:18px}
    .link-red{color:var(--red)}
    .skills-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:18px;align-items:stretch}
    .skill-card{display:flex;flex-direction:column;justify-content:space-between;align-items:center;min-height:200px;padding:18px;background:var(--glass);border:1px solid var(--glass-b);border-radius:16px;transition:transform .15s ease,filter .15s ease}
    .skill-card:hover{transform:translateY(-5px);filter:brightness(1.04)}
    .skill-top{display:flex;flex-direction:column;align-items:center;gap:8px}
    .skill-card i{font-size:38px;color:var(--red)} .skill-title{margin:0;font-size:20px;font-weight:700} .skill-sub{margin:6px 0 0;opacity:.9;text-align:center}
    @media (max-width:900px){.skills-grid{grid-template-columns:repeat(2,minmax(0,1fr))}.skills-grid>*:last-child:nth-child(odd){grid-column:1/-1;justify-self:center;max-width:320px}}
    @media (max-width:420px){.skills-grid{grid-template-columns:1fr}}
    .site-footer{text-align:center;padding:28px 0;min-height:80px;border-top:1px solid var(--glass-b);color:#cfcfe1}

    /* ============ FLYING ROBOT ASSISTANT ============ */
    .robot-wrap{
      position:fixed; left:20px; bottom:28px; width:160px; height:160px; z-index:2000;
      pointer-events:auto; user-select:none;
    }
    .robot{width:160px; height:160px; position:absolute; inset:0; transform-origin:center; will-change:transform, filter;}
    .robot .shadow{
      position:absolute; left:50%; bottom:6px; width:90px; height:18px; transform:translateX(-50%);
      background:radial-gradient(50% 50% at 50% 50%, rgba(0,0,0,.35), rgba(0,0,0,0));
      filter:blur(2px); opacity:.6; transition:width .2s ease, opacity .2s ease;
    }
    .robot-bubble{
      position:absolute; left:100%; bottom:70%; margin-left:8px; max-width:220px;
      background:rgba(255,255,255,.08); border:1px solid var(--glass-b); color:#fff;
      padding:10px 12px; border-radius:12px; backdrop-filter:blur(8px); font-size:14px; line-height:1.35;
      box-shadow:0 8px 20px rgba(0,0,0,.25); opacity:0; transform:translateY(6px); pointer-events:none;
    }
    .robot-bubble.show{opacity:1; transform:translateY(0); transition:opacity .2s ease, transform .2s ease;}
    .robot-dock{
      position:absolute; right:-6px; top:-6px; width:28px; height:28px; border-radius:999px;
      border:1px solid var(--glass-b); background:rgba(255,255,255,.10); color:#fff; display:grid; place-items:center;
      cursor:pointer; font-size:14px;
    }
    .robot-docked .robot{transform:scale(.78) translate(10px, 6px)}
    .robot-docked .robot .shadow{width:70px; opacity:.5}

    /* SVG sizing inside container */
    .robot svg{width:100%; height:100%}

    /* Idle float / wing spin / eye blink */
    @keyframes floaty{0%{transform:translateY(0)}50%{transform:translateY(-6px)}100%{transform:translateY(0)}}
    @keyframes spin{to{transform:rotate(360deg)}}
    @keyframes blink{0%,92%,100%{transform:scaleY(1)}95%{transform:scaleY(.1)}}
    .idle .body{animation:floaty 3.6s ease-in-out infinite}
    .idle .rotor{animation:spin .7s linear infinite}
    .idle .eyeLid{transform-origin:center; animation:blink 4.2s ease-in-out infinite}

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      .idle .body,.idle .rotor,.idle .eyeLid{animation:none}
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="topbar">
    <div class="topbar-inner">
      <a href="#" class="brand">MR NIPUN OFC / TECH-WEB</a>
      <nav class="menu" aria-label="Main">
        <a class="btn btn-primary" href="#home">Home</a>
        <a class="btn" href="#about">About</a>
        <a class="btn" href="#projects">Projects</a>
        <a class="btn" href="#skills">Skills</a>
        <a class="btn" href="#social">Social</a>
        <a class="btn" href="#contact">Contact</a>
      </nav>
      <button class="hamburger" id="hamburger" aria-label="Open menu"><span class="bar"></span><span class="bar"></span><span class="bar"></span></button>
    </div>
  </header>

  <!-- Drawer -->
  <div class="drawer-backdrop" id="backdrop"></div>
  <nav class="drawer" id="drawer">
    <div class="drawer-header">
      <div class="drawer-title"><span class="pulse"></span> MR NIPUN OFC / TECH-WEB</div>
      <button class="drawer-close" id="drawerClose" aria-label="Close menu">Ã—</button>
    </div>
    <ul class="navlist">
      <li><a class="navitem cta" href="#home">Home</a></li>
      <li><a class="navitem" href="#about">About</a></li>
      <li><a class="navitem" href="#projects">Projects</a></li>
      <li><a class="navitem" href="#skills">Skills</a></li>
      <li><a class="navitem" href="#social">Social</a></li>
      <li><a class="navitem" href="#contact">Contact</a></li>
      <li><a class="navitem" href="#privacy">Privacy</a></li>
    </ul>
  </nav>

  <div class="page-wrap">
    <main class="container">
      <!-- HERO -->
      <section id="home" class="hero">
        <div class="profile-container">
          <div class="light-ring" aria-hidden="true"></div>
          <img class="profile-image" alt="MR NIPUN"
               src="https://raw.githubusercontent.com/maverick455456/ADMINS/refs/heads/main/ADMIN-DP/MR%20NIPUN%20OFC.png">
        </div>
        <h1 class="hero-title">MR NIPUN OFC / TECH-WEB</h1>
        <p class="hero-sub">Full-Stack Developer Â· UI/UX Designer Â· Tech Enthusiast</p>
      </section>

      <!-- PERSONAL INFO -->
      <section id="about" class="section info-card" aria-labelledby="info-title">
        <h2 id="info-title" class="info-title">Personal Information</h2>
        <div class="info-underline"></div>
        <div class="info-list">
          <div class="info-row"><div class="info-icon"><i class="fa-solid fa-user"></i></div><div><strong>Name:</strong> H.M. NIPUN DHANUJAYA</div></div>
          <div class="info-row"><div class="info-icon"><i class="fa-solid fa-cake-candles"></i></div><div><strong>Age:</strong> 18</div></div>
          <div class="info-row"><div class="info-icon"><i class="fa-solid fa-location-dot"></i></div><div><strong>From:</strong> Sri Lanka</div></div>
          <div class="info-row"><div class="info-icon"><i class="fa-solid fa-phone"></i></div><div><strong>Contact:</strong> <a class="link-red" href="https://wa.me/+94757255903" target="_blank" rel="noopener">+94 75 725 5903</a></div></div>
          <div class="info-row"><div class="info-icon"><i class="fa-solid fa-envelope"></i></div><div><strong>Email:</strong> <a class="link-red" href="mailto:mrnipun@techweb.com">mrnipun@techweb.com</a></div></div>
        </div>
      </section>

      <!-- PROJECTS -->
      <section id="projects" class="section">
        <h2 class="section-title">My Projects</h2>
        <div class="projects-grid">
          <article class="card"><h3 class="card-title">MHT Website</h3><p>A modern responsive site with interactive features.</p></article>
          <article class="card"><h3 class="card-title">E-commerce Platform</h3><p>Full-stack e-commerce with payments and admin dashboard.</p></article>
          <article class="card"><h3 class="card-title">IoT Home Automation</h3><p>Smart-home system using Arduino with mobile control.</p></article>
        </div>
      </section>

      <!-- SKILLS -->
      <section id="skills" class="section">
        <h2 class="section-title">My Skills</h2>
        <div class="skills-grid">
          <article class="skill-card"><div class="skill-top"><i class="fab fa-java"></i><h3 class="skill-title">Java</h3></div><p class="skill-sub">Backend Development</p></article>
          <article class="skill-card"><div class="skill-top"><i class="fab fa-python"></i><h3 class="skill-title">Python</h3></div><p class="skill-sub">Scripting & Automation</p></article>
          <article class="skill-card"><div class="skill-top"><i class="fas fa-server"></i><h3 class="skill-title">Web Server</h3></div><p class="skill-sub">Server Management</p></article>
          <article class="skill-card"><div class="skill-top"><i class="fas fa-microchip"></i><h3 class="skill-title">Arduino Micro Devices</h3></div><p class="skill-sub">IoT Development</p></article>
          <article class="skill-card"><div class="skill-top"><i class="fab fa-html5"></i><h3 class="skill-title">HTML/CSS</h3></div><p class="skill-sub">Frontend Development</p></article>
          <article class="skill-card"><div class="skill-top"><i class="fab fa-react"></i><h3 class="skill-title">NextJS</h3></div><p class="skill-sub">React Framework</p></article>
          <article class="skill-card"><div class="skill-top"><i class="fas fa-camera"></i><h3 class="skill-title">Photography</h3></div><p class="skill-sub">Creative Photography</p></article>
          <article class="skill-card"><div class="skill-top"><i class="fas fa-film"></i><h3 class="skill-title">Animation</h3></div><p class="skill-sub">Motion Graphics</p></article>
          <article class="skill-card"><div class="skill-top"><i class="fas fa-palette"></i><h3 class="skill-title">Logo Design</h3></div><p class="skill-sub">Brand Identity</p></article>
        </div>
      </section>

      <!-- SOCIAL -->
      <section id="social" class="section">
        <h2 class="section-title">My Social Media</h2>
        <div class="projects-grid">
          <a class="card" href="https://whatsapp.com/channel/0029Vb9bLMqGJP8GmAHxUd02/3683" target="_blank" rel="noopener"><h3 class="card-title"><i class="fab fa-whatsapp"></i> WhatsApp Channel</h3><p>Join updates.</p></a>
          <a class="card" href="https://www.facebook.com/share/1KKrZV2NM8/" target="_blank" rel="noopener"><h3 class="card-title"><i class="fab fa-facebook"></i> Facebook Account</h3><p>Follow me.</p></a>
          <a class="card" href="https://www.facebook.com/share/17cgrxBQix/" target="_blank" rel="noopener"><h3 class="card-title"><i class="fab fa-facebook"></i> Facebook Page</h3><p>Official page.</p></a>
          <a class="card" href="https://vm.tiktok.com/ZSHc9tLctfuKo-3zM0Z/" target="_blank" rel="noopener"><h3 class="card-title"><i class="fab fa-tiktok"></i> TikTok</h3><p>Clips & dev life.</p></a>
          <a class="card" href="https://youtube.com/@mrprofesormht?si=aT8XOonaZEj1YBdo" target="_blank" rel="noopener"><h3 class="card-title"><i class="fab fa-youtube"></i> YouTube</h3><p>Videos & tutorials.</p></a>
          <a class="card" href="https://www.instagram.com/mr_nipun_ofc/?utm_source=ig_web_button_share_sheet" target="_blank" rel="noopener"><h3 class="card-title"><i class="fab fa-instagram"></i> Instagram</h3><p>Photos & stories.</p></a>
          <a class="card" href="https://t.me/Profesor9999" target="_blank" rel="noopener"><h3 class="card-title"><i class="fab fa-telegram"></i> Telegram</h3><p>DM me directly.</p></a>
        </div>
      </section>

      <!-- CONTACT -->
      <section id="contact" class="section">
        <h2 class="section-title">Contact</h2>
        <ul class="projects-grid" style="grid-template-columns:1fr;">
          <li class="card"><strong>Email:</strong> <a class="link-red" href="mailto:mrnipun@techweb.com">mrnipun@techweb.com</a></li>
          <li class="card"><strong>Phone / WhatsApp:</strong> <a class="link-red" href="https://wa.me/+94757255903" target="_blank" rel="noopener">+94 75 725 5903</a></li>
          <li class="card"><strong>Location:</strong> Sri Lanka</li>
        </ul>
      </section>

      <section id="privacy" class="section">
        <h2 class="section-title">Privacy Policy</h2>
        <p>We collect only basic information necessary to provide services. We do not sell your data. For requests, email <a class="link-red" href="mailto:mrnipun@techweb.com">mrnipun@techweb.com</a>.</p>
      </section>
    </main>
  </div>

  <footer class="site-footer">Â© <span id="year"></span> MR NIPUN OFC / TECH-WEB. All Rights Reserved.</footer>

  <!-- ===== LIVE FLYING ROBOT (SVG) ===== -->
  <div class="robot-wrap" id="robotWrap" aria-live="polite">
    <div class="robot-bubble" id="robotBubble">Hi! I'm your flight assistant ðŸ¤–</div>
    <button class="robot-dock" id="robotDock" title="Dock/Undock">â€“</button>
    <div class="robot idle" id="robot">
      <div class="shadow"></div>
      <!-- INLINE SVG (Cute flying robot) -->
      <svg viewBox="0 0 200 200" aria-label="Flying Robot">
        <!-- Body -->
        <g class="body">
          <defs>
            <linearGradient id="g1" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0%" stop-color="#f0f3ff"/>
              <stop offset="100%" stop-color="#cfd6ff"/>
            </linearGradient>
            <radialGradient id="glow" cx="50%" cy="50%" r="60%">
              <stop offset="0%" stop-color="#ffffff"/>
              <stop offset="100%" stop-color="#9db2ff"/>
            </radialGradient>
          </defs>

          <ellipse cx="100" cy="100" rx="58" ry="46" fill="url(#g1)" stroke="#9aa4ff" stroke-width="2"/>
          <!-- Face window -->
          <rect x="60" y="78" width="80" height="38" rx="16" fill="#0f1330" stroke="#6c75ff" stroke-width="2"/>
          <!-- Eyes -->
          <g id="eyes">
            <g class="eye" id="leftEye">
              <circle cx="83" cy="97" r="8" fill="url(#glow)"/>
              <circle cx="83" cy="97" r="3.2" fill="#1a1f4f" id="leftPupil"/>
              <rect class="eyeLid" x="74" y="87" width="18" height="20" rx="8" fill="#0f1330" style="transform-origin:83px 97px;"/>
            </g>
            <g class="eye" id="rightEye">
              <circle cx="117" cy="97" r="8" fill="url(#glow)"/>
              <circle cx="117" cy="97" r="3.2" fill="#1a1f4f" id="rightPupil"/>
              <rect class="eyeLid" x="108" y="87" width="18" height="20" rx="8" fill="#0f1330" style="transform-origin:117px 97px;"/>
            </g>
          </g>

          <!-- Arms -->
          <g stroke="#9aa4ff" stroke-width="3" stroke-linecap="round">
            <path d="M42,100 q18,-10 26,0" fill="none"/>
            <path d="M158,100 q-18,-10 -26,0" fill="none"/>
          </g>

          <!-- Bottom thrusters glow -->
          <ellipse cx="100" cy="140" rx="26" ry="10" fill="rgba(120,160,255,.35)"/>
        </g>

        <!-- Rotors (wings/props) -->
        <g class="rotor" style="transform-origin:100px 58px">
          <circle cx="100" cy="58" r="10" fill="#dfe6ff" stroke="#9aa4ff" stroke-width="2"/>
          <rect x="40" y="54" width="120" height="8" rx="4" fill="#bfc8ff"/>
          <rect x="62" y="54" width="76" height="8" rx="4" fill="#95a1ff"/>
        </g>
        <g class="rotor" style="transform-origin:100px 152px">
          <circle cx="100" cy="152" r="10" fill="#dfe6ff" stroke="#9aa4ff" stroke-width="2"/>
          <rect x="40" y="148" width="120" height="8" rx="4" fill="#bfc8ff"/>
          <rect x="62" y="148" width="76" height="8" rx="4" fill="#95a1ff"/>
        </g>
      </svg>
    </div>
  </div>

  <script>
    // ===== Footer year =====
    document.getElementById('year').textContent = new Date().getFullYear();

    // ===== Drawer logic =====
    const hamburger = document.getElementById('hamburger');
    const drawer = document.getElementById('drawer');
    const backdrop = document.getElementById('backdrop');
    const drawerClose = document.getElementById('drawerClose');
    function openDrawer(){ drawer.classList.add('open'); backdrop.classList.add('show'); hamburger.classList.add('active'); }
    function closeDrawer(){ drawer.classList.remove('open'); backdrop.classList.remove('show'); hamburger.classList.remove('active'); }
    hamburger?.addEventListener('click', ()=> drawer.classList.contains('open') ? closeDrawer() : openDrawer());
    drawerClose?.addEventListener('click', closeDrawer);
    backdrop?.addEventListener('click', closeDrawer);
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click',(e)=>{
        const id=a.getAttribute('href'); if(!id || id==="#") return;
        const el=document.querySelector(id); if(!el) return;
        e.preventDefault(); window.scrollTo({ top: el.offsetTop-80, behavior:'smooth' }); closeDrawer();
      });
    });

    // ===== LIVE FLYING ROBOT ENGINE =====
    const wrap = document.getElementById('robotWrap');
    const robot = document.getElementById('robot');
    const bubble = document.getElementById('robotBubble');
    const dockBtn = document.getElementById('robotDock');

    // State
    let target = { x: 140, y: window.innerHeight - 160 };
    let pos = { x: target.x, y: target.y };
    let vel = { x: 0, y: 0 };
    let lastMove = Date.now();
    let docked = false;

    // Eyes follow
    const leftP = document.getElementById('leftPupil');
    const rightP = document.getElementById('rightPupil');

    // Speech (browser speech synthesis)
    function say(text){
      try{
        if(!('speechSynthesis' in window)) return;
        const u = new SpeechSynthesisUtterance(text);
        u.lang = 'en-US';
        u.rate = 1.02; u.pitch = 1.1; u.volume = 0.9;
        speechSynthesis.speak(u);
      }catch(e){}
    }

    // Show bubble
    function speak(text, ms=2200){
      bubble.textContent = text;
      bubble.classList.add('show');
      setTimeout(()=> bubble.classList.remove('show'), ms);
      say(text);
    }

    // Greeting once per session
    if (sessionStorage.getItem('robotGreeted') !== '1') {
      speak("Hey MR NIPUN! I'm online and flying âœˆï¸", 2500);
      sessionStorage.setItem('robotGreeted','1');
    }

    // Dock / Undock
    dockBtn.addEventListener('click', ()=>{
      docked = !docked;
      wrap.classList.toggle('robot-docked', docked);
      if(docked){
        speak("Docked. Click me to undock!");
      }else{
        speak("Undocked. Following you!");
      }
    });

    // Click robot -> wave message
    robot.addEventListener('click', ()=>{
      if(docked){ docked = false; wrap.classList.remove('robot-docked'); }
      const msgs = [
        "Ready to help! ðŸ’¡",
        "Following your cursor ðŸ‘€",
        "Nice page, captain! ðŸš€",
        "Scanning... all systems green âœ…"
      ];
      speak(msgs[Math.floor(Math.random()*msgs.length)], 2000);
    });

    // Cursor target (with bounds)
    window.addEventListener('mousemove', (e)=>{
      lastMove = Date.now();
      if(docked) return;
      target.x = Math.max(20, Math.min(window.innerWidth - 180, e.clientX - 60));
      target.y = Math.max(20, Math.min(window.innerHeight - 180, e.clientY - 60));
    }, {passive:true});

    // Touch follow (mobile)
    window.addEventListener('touchmove', (e)=>{
      lastMove = Date.now();
      if(docked) return;
      const t=e.touches[0];
      target.x = Math.max(20, Math.min(window.innerWidth - 180, t.clientX - 60));
      target.y = Math.max(20, Math.min(window.innerHeight - 180, t.clientY - 60));
    }, {passive:true});

    // Autopilot if idle
    function autopilot(t){
      const s = t/1000;
      const cx = window.innerWidth*0.5 + Math.cos(s*0.6)* (window.innerWidth*0.25);
      const cy = window.innerHeight*0.6 + Math.sin(s*0.8)*40;
      return { x: Math.max(20, Math.min(window.innerWidth-180, cx-60)),
               y: Math.max(20, Math.min(window.innerHeight-180, cy-60)) };
    }

    // Physics loop (spring)
    function frame(t){
      const idleFor = Date.now() - lastMove;
      if(!docked && idleFor > 2200){
        const ap = autopilot(t);
        target.x = ap.x; target.y = ap.y;
      }

      // simple spring
      const k = 0.08, d = 0.85;
      const ax = (target.x - pos.x) * k;
      const ay = (target.y - pos.y) * k;
      vel.x = (vel.x + ax) * d;
      vel.y = (vel.y + ay) * d;
      pos.x += vel.x;
      pos.y += vel.y;

      wrap.style.transform = `translate(${pos.x}px, ${pos.y}px)`;

      // tilt based on velocity
      const tilt = Math.max(-10, Math.min(10, vel.x * 60));
      robot.style.transform = `rotate(${tilt}deg)`;
      const sh = document.querySelector('.robot .shadow');
      if(sh){
        const w = 90 - Math.min(20, Math.abs(vel.y)*500);
        sh.style.width = `${Math.max(60, w)}px`;
        sh.style.opacity = `${0.6 - Math.min(0.25, Math.abs(vel.y)*0.8)}`;
      }

      // eyes follow target
      function setPupil(p, cx, cy){
        const tx = (target.x + 80) - (wrap.offsetLeft + cx); // robot center ~
        const ty = (target.y + 80) - (wrap.offsetTop + cy);
        const ang = Math.atan2(ty, tx);
        const dist = Math.min(3.6, Math.hypot(tx,ty)/120*3.6);
        const dx = Math.cos(ang)*dist;
        const dy = Math.sin(ang)*dist;
        p.setAttribute('cx', (cx+dx).toFixed(2));
        p.setAttribute('cy', (cy+dy).toFixed(2));
      }
      setPupil(leftP, 83, 97);
      setPupil(rightP,117, 97);

      requestAnimationFrame(frame);
    }
    requestAnimationFrame(frame);

    // Avoid header overlap on load (start near bottom-left)
    window.addEventListener('load', ()=>{
      pos.x = 20; pos.y = window.innerHeight - 220;
      wrap.style.transform = `translate(${pos.x}px, ${pos.y}px)`;
    });

    // Resize safety
    window.addEventListener('resize', ()=>{
      target.x = Math.max(20, Math.min(window.innerWidth - 180, target.x));
      target.y = Math.max(20, Math.min(window.innerHeight - 180, target.y));
    }, {passive:true});
  </script>
</body>
                                                                                                                               </html>
